<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Global Wealth Tax Map</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4fbf6;
  overflow: hidden;
}

#map-container {
  position: relative;
  width: 100vw;
  height: 100vh;
}

svg {
  width: 100%;
  height: 100%;
  transition: transform 0.6s ease;
}

.country {
  stroke: #ffffff;
  stroke-width: 0.5;
  cursor: pointer;
  transition: fill 0.3s, filter 0.3s;
}

.active { fill: #2e7d32; }
.abolished { fill: #81c784; }
.other { fill: #c8e6c9; }

.country:hover {
  filter: brightness(1.2);
}

#infoPanel {
  position: absolute;
  top: 0;
  right: -400px;
  width: 400px;
  height: 100%;
  background: white;
  padding: 25px;
  overflow-y: auto;
  box-shadow: -4px 0 15px rgba(0,0,0,0.15);
  transition: right 0.5s ease;
  border-left: 6px solid #1b5e20;
}

#infoPanel.open {
  right: 0;
}

h2 {
  color: #1b5e20;
}

.legend {
  position: absolute;
  bottom: 20px;
  left: 20px;
  background: white;
  padding: 12px;
  border-radius: 10px;
  font-size: 14px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
</style>
</head>

<body>

<div id="map-container">

<svg id="worldMap" viewBox="0 0 1000 500">

<!-- Simplified full world layout -->

<!-- North America -->
<path class="other country" d="M80 200 L200 180 L250 220 L200 260 L100 240 Z"/>

<!-- South America -->
<path class="other country" d="M220 300 L260 340 L240 400 L200 360 Z"/>

<!-- Europe Background -->
<path class="other country" d="M350 150 L550 150 L600 250 L350 250 Z"/>

<!-- France -->
<path class="abolished country"
onclick="zoomTo(430,220); showCountry('france')"
d="M420 220 L450 210 L470 230 L455 250 L430 245 Z"/>

<!-- Spain -->
<path class="active country"
onclick="zoomTo(400,250); showCountry('spain')"
d="M380 250 L420 250 L430 280 L390 285 Z"/>

<!-- Germany -->
<path class="abolished country"
onclick="zoomTo(470,200); showCountry('germany')"
d="M460 200 L490 200 L490 230 L465 235 Z"/>

<!-- Switzerland -->
<path class="active country"
onclick="zoomTo(470,230); showCountry('switzerland')"
d="M465 230 L480 230 L478 245 L465 240 Z"/>

<!-- Italy -->
<path class="abolished country"
onclick="zoomTo(490,260); showCountry('italy')"
d="M490 260 L510 290 L500 320 L480 290 Z"/>

<!-- Norway -->
<path class="active country"
onclick="zoomTo(480,120); showCountry('norway')"
d="M470 100 L500 90 L510 150 L480 160 Z"/>

<!-- Sweden -->
<path class="abolished country"
onclick="zoomTo(520,120); showCountry('sweden')"
d="M510 100 L540 90 L550 170 L520 180 Z"/>

<!-- Africa -->
<path class="other country" d="M400 260 L520 260 L550 400 L430 420 Z"/>

<!-- Asia -->
<path class="other country" d="M600 150 L900 180 L850 300 L600 280 Z"/>

<!-- Australia -->
<path class="other country" d="M820 350 L900 360 L880 420 L810 410 Z"/>

</svg>

<div class="legend">
<strong>Legend</strong><br>
ðŸŸ¢ Active Wealth Tax<br>
ðŸŸ© Abolished Wealth Tax
</div>

<div id="infoPanel">
<h2>Click a country</h2>
<p>Wealth tax information will appear here.</p>
</div>

</div>

<script>

const countryData = {

france: {
title: "ðŸ‡«ðŸ‡· France",
summary: `
<strong>Summary (ISF â€“ abolished 2018)</strong><br>
Threshold: â‚¬1.3 million<br>
Rates: 0.5% â€“ 1.5%<br>
Applied to global net wealth
`,
failure: `
<strong>Why ISF Failed</strong><br>
â€¢ Capital flight<br>
â€¢ Wealth relocation<br>
â€¢ Low revenue vs complexity
`,
alternative: `
<strong>Alternative: IFI</strong><br>
Applies only to real estate wealth<br>
Same â‚¬1.3m threshold<br>
Narrows base to reduce capital flight
`
},

norway: {
title: "ðŸ‡³ðŸ‡´ Norway",
summary: `
<strong>Summary</strong><br>
Threshold: ~1.7m NOK<br>
Rate: ~1%<br>
Status: Active
`,
failure: "",
alternative: `
<strong>Key Issues</strong><br>
Entrepreneur relocation debate
`
},

spain: {
title: "ðŸ‡ªðŸ‡¸ Spain",
summary: `
<strong>Summary</strong><br>
Threshold: â‚¬700,000<br>
Rates: 0.2% â€“ 3.5%<br>
Regional variation
`,
failure: "",
alternative: `
<strong>Key Issues</strong><br>
Regional inequality<br>
Madrid offers relief
`
},

switzerland: {
title: "ðŸ‡¨ðŸ‡­ Switzerland",
summary: `
<strong>Summary</strong><br>
Cantonal wealth tax<br>
0.1% â€“ 1%
`,
failure: "",
alternative: `
<strong>Why It Works</strong><br>
Moderate rates<br>
Tax competition
`
},

germany: {
title: "ðŸ‡©ðŸ‡ª Germany",
summary: `
<strong>Summary (Until 1997)</strong><br>
~1% rate<br>
Abolished
`,
failure: `
<strong>Why It Failed</strong><br>
Unconstitutional valuation rules
`,
alternative: ""
},

sweden: {
title: "ðŸ‡¸ðŸ‡ª Sweden",
summary: `
<strong>Summary (Until 2007)</strong><br>
~1.5% rate<br>
Abolished
`,
failure: `
<strong>Why It Failed</strong><br>
Capital flight<br>
Low revenue
`,
alternative: ""
},

italy: {
title: "ðŸ‡®ðŸ‡¹ Italy",
summary: `
<strong>Summary</strong><br>
General wealth tax abolished 1990s
`,
failure: `
<strong>Why It Failed</strong><br>
Low revenue<br>
Administrative burden
`,
alternative: `
<strong>Alternatives</strong><br>
IVAFE (financial assets)<br>
IMU (property tax)
`
}

};

function showCountry(country) {
const panel = document.getElementById("infoPanel");
panel.classList.add("open");

panel.innerHTML = `
<h2>${countryData[country].title}</h2>
<p>${countryData[country].summary}</p>
${countryData[country].failure ? `<p>${countryData[country].failure}</p>` : ""}
${countryData[country].alternative ? `<p>${countryData[country].alternative}</p>` : ""}
`;
}

function zoomTo(x, y) {
const svg = document.getElementById("worldMap");
svg.style.transformOrigin = `${x}px ${y}px`;
svg.style.transform = "scale(2)";
}

</script>

</body>
</html>
